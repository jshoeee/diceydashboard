<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dicey Executive Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #f5f5f7;
            padding: 20px;
            color: #1d1d1f;
            line-height: 1.5;
        }
        
        .header {
            background: white;
            padding: 24px 32px;
            border-radius: 12px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        
        .header h1 {
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #1d1d1f;
        }
        
        .header .subtitle {
            color: #86868b;
            font-size: 14px;
        }
        
        .section {
            background: white;
            padding: 28px 32px;
            border-radius: 12px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        
        .section-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid #f5f5f7;
        }
        
        .section-title {
            font-size: 22px;
            font-weight: 600;
            color: #1d1d1f;
        }
        
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            margin-left: auto;
        }
        
        .status-badge.green {
            background: #d1f4e0;
            color: #0a7d3e;
        }
        
        .status-badge.yellow {
            background: #fff4cc;
            color: #997700;
        }
        
        .status-badge.red {
            background: #ffd9d9;
            color: #c41e3a;
        }
        
        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }
        
        .status-dot.green { background: #34c759; }
        .status-dot.yellow { background: #ffcc00; }
        .status-dot.red { background: #ff3b30; }
        
        .metrics-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }
        
        .metric-card {
            background: #fafafa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid transparent;
        }
        
        .metric-card.green { border-left-color: #34c759; }
        .metric-card.yellow { border-left-color: #ffcc00; }
        .metric-card.red { border-left-color: #ff3b30; }
        
        .metric-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 12px;
        }
        
        .metric-label {
            font-size: 13px;
            color: #86868b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }
        
        .metric-value {
            font-size: 32px;
            font-weight: 700;
            color: #1d1d1f;
            margin: 8px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .trend-icon {
            font-size: 24px;
            line-height: 1;
        }
        
        .trend-icon.up {
            color: #34c759;
        }
        
        .trend-icon.down {
            color: #ff3b30;
        }
        
        .trend-icon.flat {
            color: #86868b;
        }
        
        .metric-change {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-size: 14px;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 6px;
            margin-top: 8px;
        }
        
        .metric-change.positive {
            background: #d1f4e0;
            color: #0a7d3e;
        }
        
        .metric-change.negative {
            background: #ffd9d9;
            color: #c41e3a;
        }
        
        .metric-change.neutral {
            background: #e5e5e7;
            color: #515154;
        }
        
        .sub-metrics {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid #e5e5e7;
        }
        
        .sub-metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 6px 0;
            font-size: 13px;
        }
        
        .sub-metric-label {
            color: #515154;
        }
        
        .sub-metric-value {
            font-weight: 600;
            color: #1d1d1f;
        }
        
        .chart-container {
            background: #fafafa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 16px;
        }
        
        .chart-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #1d1d1f;
        }
        
        .chart-wrapper {
            height: 240px;
            position: relative;
        }
        
        .insight-box {
            background: #f0f7ff;
            border-left: 4px solid #007aff;
            padding: 16px 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .insight-title {
            font-size: 13px;
            font-weight: 600;
            color: #007aff;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .insight-text {
            font-size: 14px;
            color: #1d1d1f;
            line-height: 1.6;
        }
        
        .breakdown-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 16px;
        }
        
        .breakdown-item {
            background: white;
            padding: 16px;
            border-radius: 8px;
            border: 1px solid #e5e5e7;
        }
        
        .breakdown-label {
            font-size: 12px;
            color: #86868b;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .breakdown-value {
            font-size: 24px;
            font-weight: 700;
            color: #1d1d1f;
        }
        
        .breakdown-subtext {
            font-size: 12px;
            color: #86868b;
            margin-top: 4px;
        }
        
        .risk-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 16px;
            margin-top: 16px;
        }
        
        .risk-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: #fafafa;
            border-radius: 8px;
        }
        
        .risk-indicator {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
        }
        
        .risk-indicator.green { background: #d1f4e0; }
        .risk-indicator.yellow { background: #fff4cc; }
        .risk-indicator.red { background: #ffd9d9; }
        
        .risk-content {
            flex: 1;
        }
        
        .risk-label {
            font-size: 13px;
            color: #86868b;
            margin-bottom: 4px;
        }
        
        .risk-value {
            font-size: 18px;
            font-weight: 600;
            color: #1d1d1f;
        }
        
        .alert-box {
            background: #fff9e6;
            border-left: 4px solid #ffcc00;
            padding: 16px 20px;
            border-radius: 8px;
            margin-top: 16px;
        }
        
        .alert-box.red {
            background: #ffe6e6;
            border-left-color: #ff3b30;
        }
        
        .alert-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .alert-text {
            font-size: 13px;
            color: #515154;
            line-height: 1.6;
        }
        
        @media (max-width: 768px) {
            .metrics-row {
                grid-template-columns: 1fr;
            }
            
            .breakdown-grid,
            .risk-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <h1>üé≤ Dicey Executive Dashboard</h1>
        <p class="subtitle">Last Updated: February 3, 2026 @ 9:00 AM PST</p>
    </div>

    <!-- TOPLINE BUSINESS METRICS -->
    <div class="section">
        <div class="section-header">
            <span class="section-title">üìä Topline Business Metrics</span>
            <span class="status-badge green">
                <span class="status-dot green"></span>
                Healthy
            </span>
        </div>

        <!-- Metric Cards -->
        <div class="metrics-row">
            <!-- NGR Card -->
            <div class="metric-card green">
                <div class="metric-header">
                    <div class="metric-label">Net Gaming Revenue</div>
                </div>
                <div class="metric-value">
                    $112K
                    <span class="trend-icon up">‚Üó</span>
                </div>
                <div class="metric-change positive">‚Üë 23% WoW</div>
                
                <div class="sub-metrics">
                    <div class="sub-metric">
                        <span class="sub-metric-label">Casino GGR</span>
                        <span class="sub-metric-value">$142K (91%)</span>
                    </div>
                    <div class="sub-metric">
                        <span class="sub-metric-label">Sports GGR</span>
                        <span class="sub-metric-value">$14K (9%)</span>
                    </div>
                    <div class="sub-metric">
                        <span class="sub-metric-label">Incentives</span>
                        <span class="sub-metric-value">$44K</span>
                    </div>
                </div>
            </div>

            <!-- Net Deposits Card -->
            <div class="metric-card green">
                <div class="metric-header">
                    <div class="metric-label">Net Deposits</div>
                </div>
                <div class="metric-value">
                    $124K
                    <span class="trend-icon up">‚Üó</span>
                </div>
                <div class="metric-change neutral">‚Üë 8% WoW</div>
                
                <div class="sub-metrics">
                    <div class="sub-metric">
                        <span class="sub-metric-label">Gross Deposits</span>
                        <span class="sub-metric-value">$187K</span>
                    </div>
                    <div class="sub-metric">
                        <span class="sub-metric-label">Withdrawals</span>
                        <span class="sub-metric-value">$63K</span>
                    </div>
                    <div class="sub-metric">
                        <span class="sub-metric-label">Withdrawal Rate</span>
                        <span class="sub-metric-value">34%</span>
                    </div>
                </div>
            </div>

            <!-- Active Bettors Card -->
            <div class="metric-card green">
                <div class="metric-header">
                    <div class="metric-label">Active Bettors (Weekly)</div>
                </div>
                <div class="metric-value">
                    1,843
                    <span class="trend-icon up">‚Üó</span>
                </div>
                <div class="metric-change positive">‚Üë 31% WoW</div>
                
                <div class="sub-metrics">
                    <div class="sub-metric">
                        <span class="sub-metric-label">First Time Depositors</span>
                        <span class="sub-metric-value">90</span>
                    </div>
                    <div class="sub-metric">
                        <span class="sub-metric-label">D1 Retention</span>
                        <span class="sub-metric-value">42%</span>
                    </div>
                    <div class="sub-metric">
                        <span class="sub-metric-label">D7 Retention</span>
                        <span class="sub-metric-value">28%</span>
                    </div>
                    <div class="sub-metric">
                        <span class="sub-metric-label">D30 Retention</span>
                        <span class="sub-metric-value">18%</span>
                    </div>
                    <div class="sub-metric">
                        <span class="sub-metric-label">Median Wager Size</span>
                        <span class="sub-metric-value">$4.20</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Charts -->
        <div class="chart-container">
            <div class="chart-title">8-Week Trend: NGR & Active Bettors</div>
            <div class="chart-wrapper">
                <canvas id="toplineChart"></canvas>
            </div>
        </div>

        <!-- Insight -->
        <div class="insight-box">
            <div class="insight-title">Key Insight</div>
            <div class="insight-text">
                Strongest growth week since launch. NGR up 23% WoW driven by Casino growth ($89K ‚Üí $112K). 
                Active bettors up 31% with healthy retention signals. Net deposits normalizing as campaigns wind down 
                ‚Äî ME pool v2 launching Thursday to maintain momentum.
            </div>
        </div>
    </div>

    <!-- USER QUALITY -->
    <div class="section">
        <div class="section-header">
            <span class="section-title">üë• User Quality</span>
            <span class="status-badge green">
                <span class="status-dot green"></span>
                Strong
            </span>
        </div>

        <!-- Retention Section -->
        <div style="margin-bottom: 32px;">
            <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px; color: #1d1d1f;">
                Retention (Are they sticky?)
            </h3>
            
            <div class="metrics-row">
                <div class="metric-card green">
                    <div class="metric-header">
                        <div class="metric-label">D1 Second Deposit Rate</div>
                    </div>
                    <div class="metric-value">42%</div>
                    <div class="metric-change positive">‚Üë 4pp WoW</div>
                    <div style="margin-top: 12px; font-size: 13px; color: #86868b;">
                        38 of 90 FTDs deposited again within 24hrs
                    </div>
                </div>

                <div class="metric-card green">
                    <div class="metric-header">
                        <div class="metric-label">D7 Second Deposit Rate</div>
                    </div>
                    <div class="metric-value">28%</div>
                    <div class="metric-change positive">‚Üë 2pp WoW</div>
                    <div style="margin-top: 12px; font-size: 13px; color: #86868b;">
                        25 of 90 FTDs deposited again within 7 days
                    </div>
                </div>

                <div class="metric-card green">
                    <div class="metric-header">
                        <div class="metric-label">D30 Second Deposit Rate</div>
                    </div>
                    <div class="metric-value">18%</div>
                    <div class="metric-change positive">‚Üë 1pp WoW</div>
                    <div style="margin-top: 12px; font-size: 13px; color: #86868b;">
                        16 of 90 FTDs deposited again within 30 days
                    </div>
                </div>
            </div>

            <div class="chart-container">
                <div class="chart-title">D1, D7 & D30 Retention Trend (6 Weeks)</div>
                <div class="chart-wrapper">
                    <canvas id="retentionChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Engagement Section -->
        <div>
            <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px; color: #1d1d1f;">
                Engagement (Depth of session)
            </h3>
            
            <div class="metrics-row">
                <div class="metric-card green">
                    <div class="metric-header">
                        <div class="metric-label">Bets per Session</div>
                    </div>
                    <div class="metric-value">47</div>
                    <div class="metric-change positive">‚Üë 9% WoW</div>
                    <div style="margin-top: 12px; font-size: 13px; color: #86868b;">
                        Target: 40+ (in "machine zone")
                    </div>
                </div>

                <div class="metric-card green">
                    <div class="metric-header">
                        <div class="metric-label">Wager After First Withdrawal</div>
                    </div>
                    <div class="metric-value">68%</div>
                    <div class="metric-change positive">‚Üë 3pp WoW</div>
                    <div style="margin-top: 12px; font-size: 13px; color: #86868b;">
                        Users who keep playing after cashing out
                    </div>
                </div>

                <div class="metric-card green">
                    <div class="metric-header">
                        <div class="metric-label">Games per User per Session</div>
                    </div>
                    <div class="metric-value">2.3</div>
                    <div class="metric-change positive">‚Üë 0.2 WoW</div>
                    <div style="margin-top: 12px; font-size: 13px; color: #86868b;">
                        Target: 2.5+ (exploring vs grinding)
                    </div>
                </div>
            </div>

            <div class="chart-container">
                <div class="chart-title">Engagement Metrics Trend (8 Weeks)</div>
                <div class="chart-wrapper">
                    <canvas id="engagementChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Insight -->
        <div class="insight-box">
            <div class="insight-title">Key Insight</div>
            <div class="insight-text">
                Strong retention signals across all timeframes. D1 at 42% shows immediate user engagement, 
                with natural decay to D7 (28%) and D30 (18%) indicating healthy cohort quality. Engagement 
                trending up across all metrics: users betting deeper (47 bets/session), exploring more games 
                (2.3 games/user), and continuing to play after withdrawals (68%). Low bonus hunter risk.
            </div>
        </div>
    </div>

    <!-- RISK & OPERATIONS -->
    <div class="section">
        <div class="section-header">
            <span class="section-title">‚ö†Ô∏è Risk & Operations</span>
            <span class="status-badge yellow">
                <span class="status-dot yellow"></span>
                Moderate Risk
            </span>
        </div>

        <!-- Incentives Section -->
        <div style="margin-bottom: 32px;">
            <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px; color: #1d1d1f;">
                Incentives & Efficiency
            </h3>
            
            <div class="metric-card green" style="margin-bottom: 16px;">
                <div class="metric-header">
                    <div class="metric-label">NGR/GGR Efficiency Ratio</div>
                </div>
                <div class="metric-value">72%</div>
                <div class="metric-change positive">‚Üë 2pp WoW</div>
                <div style="margin-top: 12px; font-size: 13px; color: #86868b;">
                    Target: 60-75% | Keeping $0.72 per $1 wagered
                </div>
            </div>

            <div class="chart-container" style="margin-bottom: 20px;">
                <div class="chart-title">NGR/GGR Efficiency Trend (8 Weeks)</div>
                <div class="chart-wrapper">
                    <canvas id="efficiencyChart"></canvas>
                </div>
            </div>

            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 12px; color: #1d1d1f;">
                This Week's Incentive Spend: $44K
            </h4>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; align-items: center;">
                <div>
                    <div style="height: 300px;">
                        <canvas id="incentivesPieChart"></canvas>
                    </div>
                </div>
                
                <div>
                    <div style="margin-bottom: 24px;">
                        <h5 style="font-size: 13px; font-weight: 600; color: #86868b; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 0.5px;">Product Incentives (41%)</h5>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <div style="display: flex; justify-content: space-between; padding: 8px; background: white; border-radius: 6px;">
                                <span style="font-size: 13px; color: #515154;">Rakeback</span>
                                <span style="font-size: 14px; font-weight: 600; color: #1d1d1f;">$12K</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 8px; background: white; border-radius: 6px;">
                                <span style="font-size: 13px; color: #515154;">Rank Up / Tier Up</span>
                                <span style="font-size: 14px; font-weight: 600; color: #1d1d1f;">$4K</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 8px; background: white; border-radius: 6px;">
                                <span style="font-size: 13px; color: #515154;">Be The House</span>
                                <span style="font-size: 14px; font-weight: 600; color: #1d1d1f;">$2K</span>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h5 style="font-size: 13px; font-weight: 600; color: #86868b; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 0.5px;">GTM Incentives (59%)</h5>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <div style="display: flex; justify-content: space-between; padding: 8px; background: white; border-radius: 6px;">
                                <span style="font-size: 13px; color: #515154;">ME Pool Campaign</span>
                                <span style="font-size: 14px; font-weight: 600; color: #1d1d1f;">$15K</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 8px; background: white; border-radius: 6px;">
                                <span style="font-size: 13px; color: #515154;">Deposit Bonuses</span>
                                <span style="font-size: 14px; font-weight: 600; color: #1d1d1f;">$8K</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 8px; background: white; border-radius: 6px;">
                                <span style="font-size: 13px; color: #515154;">VIP / Manual</span>
                                <span style="font-size: 14px; font-weight: 600; color: #1d1d1f;">$3K</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="margin-top: 16px; padding: 16px; background: #fafafa; border-radius: 8px;">
                <div style="font-size: 13px; color: #86868b; margin-bottom: 8px;">Spend Mix</div>
                <div style="font-size: 14px; color: #1d1d1f;">
                    <strong>Product:</strong> $18K (41% - Retention) &nbsp;|&nbsp; 
                    <strong>GTM:</strong> $26K (59% - Acquisition)
                </div>
                <div style="font-size: 12px; color: #86868b; margin-top: 8px;">
                    ‚Üí Spending weighted toward acquisition, appropriate for growth stage
                </div>
            </div>
        </div>

        <!-- Risk Scorecard Section -->
        <div>
            <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px; color: #1d1d1f;">
                Risk Scorecard
            </h3>
            
            <div class="risk-grid">
                <div class="risk-item">
                    <div class="risk-indicator yellow">üü°</div>
                    <div class="risk-content">
                        <div class="risk-label">Whale Concentration</div>
                        <div class="risk-value">38%</div>
                        <div style="font-size: 11px; color: #86868b; margin-top: 2px;">Target: &lt;30%</div>
                    </div>
                </div>

                <div class="risk-item">
                    <div class="risk-indicator green">üü¢</div>
                    <div class="risk-content">
                        <div class="risk-label">Game Outcomes</div>
                        <div class="risk-value">All Normal</div>
                        <div style="font-size: 11px; color: #86868b; margin-top: 2px;">Within 2œÉ expected</div>
                    </div>
                </div>

                <div class="risk-item">
                    <div class="risk-indicator green">üü¢</div>
                    <div class="risk-content">
                        <div class="risk-label">Vault Liquidity</div>
                        <div class="risk-value">143%</div>
                        <div style="font-size: 11px; color: #86868b; margin-top: 2px;">Of user liabilities</div>
                    </div>
                </div>

                <div class="risk-item">
                    <div class="risk-indicator green">üü¢</div>
                    <div class="risk-content">
                        <div class="risk-label">Auto-Withdrawal</div>
                        <div class="risk-value">90%</div>
                        <div style="font-size: 11px; color: #86868b; margin-top: 2px;">Target: 90%+</div>
                    </div>
                </div>
            </div>

            <!-- Alert -->
            <div class="alert-box">
                <div class="alert-title">
                    ‚ö†Ô∏è Whale Concentration Alert
                </div>
                <div class="alert-text">
                    Top 3 users represent 38% of weekly volume (target: &lt;30%). Pharaoh alone accounts for 22%. 
                    <strong>Action:</strong> Ops team targeting 2-3 new VIP onboards this week to diversify revenue base.
                </div>
            </div>
        </div>
    </div>

    <script>
        Chart.defaults.font.family = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
        Chart.defaults.color = '#86868b';

        // Topline Chart (NGR + Active Bettors)
        const toplineCtx = document.getElementById('toplineChart').getContext('2d');
        new Chart(toplineCtx, {
            type: 'line',
            data: {
                labels: ['Dec 9', 'Dec 16', 'Dec 23', 'Dec 30', 'Jan 6', 'Jan 13', 'Jan 20', 'Jan 27'],
                datasets: [{
                    label: 'NGR ($K)',
                    data: [45, 52, 58, 67, 78, 89, 91, 112],
                    borderColor: '#007aff',
                    backgroundColor: 'rgba(0, 122, 255, 0.1)',
                    yAxisID: 'y',
                    tension: 0.4,
                    fill: true
                }, {
                    label: 'Active Bettors',
                    data: [892, 1043, 1156, 1247, 1412, 1621, 1406, 1843],
                    borderColor: '#34c759',
                    backgroundColor: 'rgba(52, 199, 89, 0.1)',
                    yAxisID: 'y1',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
                plugins: {
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'NGR ($K)'
                        },
                        grid: { color: '#e5e5e7' }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'Active Bettors'
                        },
                        grid: { drawOnChartArea: false }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

        // Retention Chart
        const retentionCtx = document.getElementById('retentionChart').getContext('2d');
        new Chart(retentionCtx, {
            type: 'line',
            data: {
                labels: ['Week -5', 'Week -4', 'Week -3', 'Week -2', 'Week -1', 'Current'],
                datasets: [{
                    label: 'D1 Second Deposit Rate',
                    data: [38, 39, 40, 41, 38, 42],
                    borderColor: '#34c759',
                    backgroundColor: 'rgba(52, 199, 89, 0.1)',
                    tension: 0.4,
                    fill: true
                }, {
                    label: 'D7 Second Deposit Rate',
                    data: [25, 26, 27, 28, 26, 28],
                    borderColor: '#007aff',
                    backgroundColor: 'rgba(0, 122, 255, 0.1)',
                    tension: 0.4,
                    fill: true
                }, {
                    label: 'D30 Second Deposit Rate',
                    data: [15, 16, 17, 18, 17, 18],
                    borderColor: '#ff9500',
                    backgroundColor: 'rgba(255, 149, 0, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true,
                        position: 'bottom'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 50,
                        ticks: {
                            callback: function(value) {
                                return value + '%';
                            }
                        },
                        grid: { color: '#e5e5e7' }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

        // Engagement Chart
        const engagementCtx = document.getElementById('engagementChart').getContext('2d');
        new Chart(engagementCtx, {
            type: 'line',
            data: {
                labels: ['Dec 9', 'Dec 16', 'Dec 23', 'Dec 30', 'Jan 6', 'Jan 13', 'Jan 20', 'Jan 27'],
                datasets: [{
                    label: 'Bets per Session',
                    data: [32, 35, 38, 41, 39, 43, 43, 47],
                    borderColor: '#5856d6',
                    backgroundColor: 'rgba(88, 86, 214, 0.1)',
                    yAxisID: 'y',
                    tension: 0.4,
                    fill: true
                }, {
                    label: 'Games per User',
                    data: [1.8, 1.9, 2.0, 2.0, 2.1, 2.1, 2.1, 2.3],
                    borderColor: '#ff2d55',
                    backgroundColor: 'rgba(255, 45, 85, 0.1)',
                    yAxisID: 'y1',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true,
                        position: 'bottom'
                    }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'Bets per Session'
                        },
                        grid: { color: '#e5e5e7' }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'Games per User'
                        },
                        min: 0,
                        max: 3,
                        grid: { drawOnChartArea: false }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

        // Efficiency Chart
        const efficiencyCtx = document.getElementById('efficiencyChart').getContext('2d');
        new Chart(efficiencyCtx, {
            type: 'line',
            data: {
                labels: ['Dec 9', 'Dec 16', 'Dec 23', 'Dec 30', 'Jan 6', 'Jan 13', 'Jan 20', 'Jan 27'],
                datasets: [{
                    label: 'NGR/GGR Ratio',
                    data: [58, 62, 65, 68, 72, 64, 66, 72],
                    borderColor: '#007aff',
                    backgroundColor: 'rgba(0, 122, 255, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    annotation: {
                        annotations: {
                            box: {
                                type: 'box',
                                yMin: 60,
                                yMax: 75,
                                backgroundColor: 'rgba(52, 199, 89, 0.1)',
                                borderWidth: 0
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        min: 50,
                        max: 80,
                        ticks: {
                            callback: function(value) {
                                return value + '%';
                            }
                        },
                        grid: { color: '#e5e5e7' }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

        // Incentives Pie Chart
        const incentivesPieCtx = document.getElementById('incentivesPieChart').getContext('2d');
        new Chart(incentivesPieCtx, {
            type: 'doughnut',
            data: {
                labels: ['ME Pool', 'Rakeback', 'Deposit Bonuses', 'Rank/Tier Up', 'VIP/Manual', 'Be The House'],
                datasets: [{
                    data: [15, 12, 8, 4, 3, 2],
                    backgroundColor: [
                        '#007aff',
                        '#34c759',
                        '#5856d6',
                        '#ff9500',
                        '#ff2d55',
                        '#ffcc00'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 12,
                            font: {
                                size: 12
                            },
                            generateLabels: function(chart) {
                                const data = chart.data;
                                return data.labels.map((label, i) => ({
                                    text: label + ' ($' + data.datasets[0].data[i] + 'K)',
                                    fillStyle: data.datasets[0].backgroundColor[i],
                                    hidden: false,
                                    index: i
                                }));
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const label = context.label || '';
                                const value = context.parsed || 0;
                                const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                const percentage = ((value / total) * 100).toFixed(0);
                                return label + ': $' + value + 'K (' + percentage + '%)';
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
